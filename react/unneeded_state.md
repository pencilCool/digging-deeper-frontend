## Unneeded state

https://reactkungfu.com/2015/09/common-react-dot-js-mistakes-unneeded-state/

CheckList

- 你总是同时设置两个 state
- 在 componet 会不会变换。

1. 检查 x 的初始化。记下初始值。
2. 查看组件代码中的所有 setState 和 replaceState 调用。写下 x 可能具有的所有值。
   看看那些可能的值。
3. 如果在可能值集合中存在变量，则跟踪对该值以及初始值的所有赋值，并将变量的这些可能值添加到集合中。从您的集合中删除变量。
4. 如果您的可能值集中有函数/方法调用，请对您调用的函数的所有可能返回值进行分析。它只能根据函数参数定义 - 因此，如果存在局部变量，请将其删除并将该值的所有可能分配添加到该集合中。然后，在此函数的调用中扫描所有可能的参数，并相应地修改可能的值设置。
5. 重复该过程，直到您的可能值集中没有变量或函数调用。在此阶段，您只能拥有数据原语或状态引用（如 0、new Foo()、{}、{ x: 2 } 或 this.state.??）。
6. 如果您的可能值集仅包含原始中性元素（0、{}、null、undefined、[]）和状态引用，则不需要此状态字段。
   它当然不适合手动执行 - 但您可以在一些简单的情况下尝试它作为练习。
